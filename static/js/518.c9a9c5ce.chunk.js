"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[518],{518:function(t,s,e){e.r(s),e.d(s,{default:function(){return T}});var i=e(8683),n=e(5671),r=e(3144),o=e(136),u=e(3668),a=e(2791),c="ProfileInfo_img_content__GtKzq",d="ProfileInfo_descriptionBlock__Pevc0",l=e(4227),p=e(2495),f=e(885),h=e(184),x=function(t){var s=(0,a.useState)(t.status),e=(0,f.Z)(s,2),i=e[0],n=e[1],r=(0,a.useState)(!1),o=(0,f.Z)(r,2),u=o[0],c=o[1];(0,a.useEffect)((function(){n(t.status)}),[t.status]);return(0,h.jsx)("div",{children:u?(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,onChange:function(t){n(t.target.value)},onBlur:function(){c(!1),t.updateStatus(i)},value:i})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){c(!0)},children:i||"-----"})})})},j=function(t){return t.profile?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{className:c,src:l})}),(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("img",{src:t.profile.photos.large}),(0,h.jsx)(x,{status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)("div",{children:t.profile.aboutMe}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{children:"My Contacts:"}),(0,h.jsx)("div",{children:t.profile.contacts.facebook}),(0,h.jsx)("div",{children:t.profile.contacts.website}),(0,h.jsx)("div",{children:t.profile.contacts.vk}),(0,h.jsx)("div",{children:t.profile.contacts.twitter}),(0,h.jsx)("div",{children:t.profile.contacts.instagram}),(0,h.jsx)("div",{children:t.profile.contacts.youtube}),(0,h.jsx)("div",{children:t.profile.contacts.github}),(0,h.jsx)("div",{children:t.profile.contacts.mainLink})]})]})]}):(0,h.jsx)(p.Z,{})},v=e(6070),_="MyPosts_postBlock__snkS4",g="MyPosts_posts__T40dh",m="Post_item__0pXK8",P="Post_circle__BS9sm",k="Post_post__tzuJa",Z=function(t){var s=t.message,e=t.like_count;return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("div",{className:P}),(0,h.jsxs)("div",{className:k,children:[(0,h.jsx)("div",{children:s}),(0,h.jsx)("br",{}),(0,h.jsxs)("div",{children:["Like ",e]})]})]})})},S=function(t){var s=t.posts.map((function(t){return(0,h.jsx)(Z,{message:t.message,like_count:t.like_count,id:t.id},t.id)})),e=a.createRef();return(0,h.jsxs)("div",{className:_,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("textarea",{ref:e,onChange:function(){var s=e.current.value;t.updateNewPostText(s)},value:t.newPostText})}),(0,h.jsx)("button",{onClick:function(){t.addPost()},children:"Add post"})]}),(0,h.jsx)("div",{className:g,children:s})]})},y=e(6434),b=(0,y.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{updateNewPostText:function(s){var e=(0,v._M)(s);t(e)},addPost:function(){t((0,v.Wl)())}}}))(S),C=function(t){return(0,h.jsxs)("div",{children:[(0,h.jsx)(j,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(b,{store:t.store})]})},N=e(6871),w=e(1944),A=e(7781),M=function(t){(0,o.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return this.props.isAuth?(0,h.jsx)(C,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})):(0,h.jsx)(N.Fg,{to:"/login"})}}]),e}(a.Component);var T=(0,A.qC)((0,y.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:v.et,getStatus:v.lR,updateStatus:v.Nf}),(function(t){return function(s){var e=(0,N.TH)(),n=(0,N.s0)(),r=(0,N.UO)();return(0,h.jsx)(t,(0,i.Z)((0,i.Z)({},s),{},{router:{location:e,navigate:n,params:r}}))}}),w.E)(M)},1944:function(t,s,e){e.d(s,{E:function(){return f}});var i=e(8683),n=e(5671),r=e(3144),o=e(136),u=e(3668),a=e(2791),c=e(6871),d=e(6434),l=e(184),p=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var s=function(s){(0,o.Z)(a,s);var e=(0,u.Z)(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,r.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(t,(0,i.Z)({},this.props)):(0,l.jsx)(c.Fg,{to:"/login"})}}]),a}(a.Component);return(0,d.$j)(p)(s)}},4227:function(t,s,e){t.exports=e.p+"static/media/profil_image.5c75409e3d7b26fd91ef.jpg"}}]);
//# sourceMappingURL=518.c9a9c5ce.chunk.js.map